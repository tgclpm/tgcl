{"version":3,"file":"index.cjs.js","sources":["../../../node_modules/events/events.js","../src/constants/client.ts","../src/constants/request.ts","../src/types/client.ts","../src/types/engine.ts","../src/controllers/engine.ts","../src/client.ts","../src/index.ts"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","export const PROTOCOL = \"wc\";\nexport const PROTOCOL_VERSION = 2;\nexport const CLIENT_CONTEXT = \"Web3Wallet\";\n\nexport const CLIENT_STORAGE_PREFIX = `${PROTOCOL}@${PROTOCOL_VERSION}:${CLIENT_CONTEXT}:`;\n\nexport const CLIENT_STORAGE_OPTIONS = {\n  database: \":memory:\",\n};\n","export const REQUEST_CONTEXT = \"request\";\n","import EventEmmiter, { EventEmitter } from \"events\";\nimport { ICore, ProposalTypes } from \"@walletconnect/types\";\nimport { AuthClientTypes } from \"@walletconnect/auth-client\";\nimport { IWeb3WalletEngine } from \"./engine\";\nimport { Logger } from \"@walletconnect/logger\";\n\nexport declare namespace Web3WalletTypes {\n  type Event = \"session_proposal\" | \"session_request\" | \"auth_request\";\n\n  interface BaseEventArgs<T = unknown> {\n    id: number;\n    topic: string;\n    params: T;\n  }\n\n  type SessionRequest = BaseEventArgs<{\n    request: { method: string; params: any };\n    chainId: string;\n  }>;\n\n  type SessionProposal = Omit<BaseEventArgs<ProposalTypes.Struct>, \"topic\">;\n\n  type AuthRequest = BaseEventArgs<AuthClientTypes.AuthRequestEventArgs>;\n\n  interface EventArguments {\n    session_proposal: Omit<BaseEventArgs<ProposalTypes.Struct>, \"topic\">;\n    session_request: SessionRequest;\n    auth_request: AuthRequest;\n  }\n\n  interface Options {\n    core: ICore;\n    metadata: Metadata;\n    name?: string;\n  }\n\n  type Metadata = AuthClientTypes.Metadata;\n}\n\nexport abstract class IWeb3WalletEvents extends EventEmmiter {\n  constructor() {\n    super();\n  }\n\n  public abstract emit: <E extends Web3WalletTypes.Event>(\n    event: E,\n    args: Web3WalletTypes.EventArguments[E],\n  ) => boolean;\n\n  public abstract on: <E extends Web3WalletTypes.Event>(\n    event: E,\n    listener: (args: Web3WalletTypes.EventArguments[E]) => any,\n  ) => this;\n\n  public abstract once: <E extends Web3WalletTypes.Event>(\n    event: E,\n    listener: (args: Web3WalletTypes.EventArguments[E]) => any,\n  ) => this;\n\n  public abstract off: <E extends Web3WalletTypes.Event>(\n    event: E,\n    listener: (args: Web3WalletTypes.EventArguments[E]) => any,\n  ) => this;\n\n  public abstract removeListener: <E extends Web3WalletTypes.Event>(\n    event: E,\n    listener: (args: Web3WalletTypes.EventArguments[E]) => any,\n  ) => this;\n}\n\nexport abstract class IWeb3Wallet {\n  public abstract readonly name: string;\n  public abstract engine: IWeb3WalletEngine;\n  public abstract events: EventEmitter;\n  public abstract logger: Logger;\n  public abstract core: ICore;\n  public abstract metadata: Web3WalletTypes.Metadata;\n\n  constructor(public opts: Web3WalletTypes.Options) {}\n\n  // ---------- Public Methods ----------------------------------------------- //\n  // sign //\n  public abstract approveSession: IWeb3WalletEngine[\"approveSession\"];\n  public abstract rejectSession: IWeb3WalletEngine[\"rejectSession\"];\n  public abstract updateSession: IWeb3WalletEngine[\"updateSession\"];\n  public abstract extendSession: IWeb3WalletEngine[\"extendSession\"];\n  public abstract respondSessionRequest: IWeb3WalletEngine[\"respondSessionRequest\"];\n  public abstract disconnectSession: IWeb3WalletEngine[\"disconnectSession\"];\n  public abstract emitSessionEvent: IWeb3WalletEngine[\"emitSessionEvent\"];\n  public abstract getActiveSessions: IWeb3WalletEngine[\"getActiveSessions\"];\n  public abstract getPendingSessionProposals: IWeb3WalletEngine[\"getPendingSessionProposals\"];\n  public abstract getPendingSessionRequests: IWeb3WalletEngine[\"getPendingSessionRequests\"];\n  // auth //\n  public abstract respondAuthRequest: IWeb3WalletEngine[\"respondAuthRequest\"];\n  public abstract getPendingAuthRequests: IWeb3WalletEngine[\"getPendingAuthRequests\"];\n  public abstract formatMessage: IWeb3WalletEngine[\"formatMessage\"];\n\n  // ---------- Event Handlers ----------------------------------------------- //\n  public abstract on: <E extends Web3WalletTypes.Event>(\n    event: E,\n    listener: (args: Web3WalletTypes.EventArguments[E]) => void,\n  ) => EventEmitter;\n\n  public abstract once: <E extends Web3WalletTypes.Event>(\n    event: E,\n    listener: (args: Web3WalletTypes.EventArguments[E]) => void,\n  ) => EventEmitter;\n\n  public abstract off: <E extends Web3WalletTypes.Event>(\n    event: E,\n    listener: (args: Web3WalletTypes.EventArguments[E]) => void,\n  ) => EventEmitter;\n\n  public abstract removeListener: <E extends Web3WalletTypes.Event>(\n    event: E,\n    listener: (args: Web3WalletTypes.EventArguments[E]) => void,\n  ) => EventEmitter;\n}\n","import { AuthEngineTypes, IAuthClient } from \"@walletconnect/auth-client\";\nimport { ErrorResponse, JsonRpcResponse } from \"@walletconnect/jsonrpc-utils\";\nimport {\n  ISignClient,\n  PendingRequestTypes,\n  ProposalTypes,\n  SessionTypes,\n} from \"@walletconnect/types\";\nimport { IWeb3Wallet } from \"./client\";\n\nexport abstract class IWeb3WalletEngine {\n  public abstract signClient: ISignClient;\n  public abstract authClient: IAuthClient;\n\n  constructor(public client: IWeb3Wallet) {}\n  // ---------- Public Methods ------------------------------------------------- //\n  public abstract init(): Promise<void>;\n\n  // ---------- Sign ------------------------------------------------- //\n  // approve a session proposal (SIGN)\n  public abstract approveSession(params: {\n    id: number;\n    namespaces: Record<string, SessionTypes.Namespace>;\n    relayProtocol?: string;\n  }): Promise<SessionTypes.Struct>;\n\n  // reject a session proposal (SIGN)\n  public abstract rejectSession(params: {\n    // proposerPublicKey: string;\n    id: number;\n    reason: ErrorResponse;\n  }): Promise<void>;\n\n  // update session namespaces (SIGN)\n  public abstract updateSession(params: {\n    topic: string;\n    namespaces: SessionTypes.Namespaces;\n  }): Promise<void>;\n\n  // update session expiry (SIGN)\n  public abstract extendSession(params: { topic: string }): Promise<void>;\n\n  // respond JSON-RPC request (SIGN)\n  public abstract respondSessionRequest(params: {\n    topic: string;\n    response: JsonRpcResponse;\n  }): Promise<void>;\n\n  // emit session events (SIGN)\n  public abstract emitSessionEvent(params: {\n    topic: string;\n    event: any; //SessionEvent;\n    chainId: string;\n  }): Promise<void>;\n\n  // disconnect a session (SIGN)\n  public abstract disconnectSession(params: {\n    topic: string;\n    reason: ErrorResponse;\n  }): Promise<void>;\n\n  // query all active sessions (SIGN)\n  public abstract getActiveSessions(): Record<string, SessionTypes.Struct>;\n\n  // query all pending session requests (SIGN)\n  public abstract getPendingSessionProposals(): Record<number, ProposalTypes.Struct>;\n\n  // query all pending session requests (SIGN)\n  public abstract getPendingSessionRequests(): PendingRequestTypes.Struct[];\n\n  // ---------- Auth ------------------------------------------------- //\n\n  // respond Auth Request (AUTH)\n  public abstract respondAuthRequest(\n    params: AuthEngineTypes.RespondParams,\n    iss: string,\n  ): Promise<void>;\n\n  // query all pending auth requests (AUTH)\n  public abstract getPendingAuthRequests(): Record<number, AuthEngineTypes.PendingRequest>;\n\n  // format payload to message string\n  public abstract formatMessage(payload: AuthEngineTypes.CacaoRequestPayload, iss: string): string;\n}\n","import { AuthClient, AuthEngineTypes, IAuthClient } from \"@walletconnect/auth-client\";\nimport { SignClient } from \"@walletconnect/sign-client\";\nimport { ISignClient } from \"@walletconnect/types\";\nimport { IWeb3WalletEngine, Web3WalletTypes } from \"../types\";\n\nexport class Engine extends IWeb3WalletEngine {\n  public signClient: ISignClient;\n  public authClient: IAuthClient;\n\n  constructor(client: IWeb3WalletEngine[\"client\"]) {\n    super(client);\n    // initialized in init()\n    this.signClient = {} as any;\n    this.authClient = {} as any;\n  }\n\n  public init = async () => {\n    this.signClient = await SignClient.init({\n      core: this.client.core,\n      metadata: this.client.metadata,\n    });\n    this.authClient = await AuthClient.init({\n      core: this.client.core,\n      projectId: \"\",\n      metadata: this.client.metadata,\n    });\n\n    this.initializeEventListeners();\n  };\n\n  // Sign //\n  public approveSession: IWeb3WalletEngine[\"approveSession\"] = async (sessionProposal) => {\n    const { topic, acknowledged } = await this.signClient.approve({\n      id: sessionProposal.id,\n      namespaces: sessionProposal.namespaces,\n    });\n    await acknowledged();\n    return this.signClient.session.get(topic);\n  };\n\n  public rejectSession: IWeb3WalletEngine[\"rejectSession\"] = async (params) => {\n    return await this.signClient.reject(params);\n  };\n\n  public updateSession: IWeb3WalletEngine[\"updateSession\"] = async (params) => {\n    return await (await this.signClient.update(params)).acknowledged();\n  };\n\n  public extendSession: IWeb3WalletEngine[\"extendSession\"] = async (params) => {\n    return await (await this.signClient.extend(params)).acknowledged();\n  };\n\n  public respondSessionRequest: IWeb3WalletEngine[\"respondSessionRequest\"] = async (params) => {\n    const result = await this.signClient.respond(params);\n    return result;\n  };\n\n  public disconnectSession: IWeb3WalletEngine[\"disconnectSession\"] = async (params) => {\n    return await this.signClient.disconnect(params);\n  };\n\n  public emitSessionEvent: IWeb3WalletEngine[\"emitSessionEvent\"] = async (params) => {\n    return await this.signClient.emit(params);\n  };\n\n  public getActiveSessions: IWeb3WalletEngine[\"getActiveSessions\"] = () => {\n    const sessions = this.signClient.session.getAll();\n    return sessions.reduce((sessions, session) => {\n      sessions[session.topic] = session;\n      return sessions;\n    }, {});\n  };\n\n  public getPendingSessionProposals: IWeb3WalletEngine[\"getPendingSessionProposals\"] = () => {\n    return this.signClient.proposal.getAll();\n  };\n\n  public getPendingSessionRequests: IWeb3WalletEngine[\"getPendingSessionRequests\"] = () => {\n    return this.signClient.getPendingSessionRequests();\n  };\n\n  // Auth //\n  public respondAuthRequest: IWeb3WalletEngine[\"respondAuthRequest\"] = async (params, iss) => {\n    return await this.authClient.respond(params, iss);\n  };\n\n  public getPendingAuthRequests: IWeb3WalletEngine[\"getPendingAuthRequests\"] = () => {\n    return this.authClient.requests\n      .getAll()\n      .filter((request) => \"requester\" in request) as AuthEngineTypes.PendingRequest[];\n  };\n\n  public formatMessage: IWeb3WalletEngine[\"formatMessage\"] = (params, iss) => {\n    return this.authClient.formatMessage(params, iss);\n  };\n\n  // ---------- Private ----------------------------------------------- //\n\n  private onSessionRequest = (event: Web3WalletTypes.SessionRequest) => {\n    this.client.events.emit(\"session_request\", event);\n  };\n\n  private onSessionProposal = (event: Web3WalletTypes.SessionProposal) => {\n    this.client.events.emit(\"session_proposal\", event);\n  };\n\n  private onAuthRequest = (event: Web3WalletTypes.AuthRequest) => {\n    this.client.events.emit(\"auth_request\", event);\n  };\n\n  private initializeEventListeners = () => {\n    this.signClient.events.on(\"session_proposal\", this.onSessionProposal);\n    this.signClient.events.on(\"session_request\", this.onSessionRequest);\n    this.authClient.on(\"auth_request\", this.onAuthRequest);\n  };\n}\n","import EventEmitter from \"events\";\nimport { CLIENT_CONTEXT } from \"./constants\";\nimport { Engine } from \"./controllers\";\nimport { IWeb3Wallet, Web3WalletTypes } from \"./types\";\n\nexport class Web3Wallet extends IWeb3Wallet {\n  public name: IWeb3Wallet[\"name\"];\n  public core: IWeb3Wallet[\"core\"];\n  public logger: IWeb3Wallet[\"logger\"];\n  public events: IWeb3Wallet[\"events\"] = new EventEmitter();\n  public engine: IWeb3Wallet[\"engine\"];\n  public metadata: IWeb3Wallet[\"metadata\"];\n\n  static async init(opts: Web3WalletTypes.Options) {\n    const client = new Web3Wallet(opts);\n    await client.initialize();\n\n    return client;\n  }\n\n  constructor(opts: Web3WalletTypes.Options) {\n    super(opts);\n    this.metadata = opts.metadata;\n    this.name = opts.name || CLIENT_CONTEXT;\n    this.core = opts.core;\n    this.logger = this.core.logger;\n    this.engine = new Engine(this);\n  }\n\n  // ---------- Events ----------------------------------------------- //\n\n  public on: IWeb3Wallet[\"on\"] = (name, listener) => {\n    return this.events.on(name, listener);\n  };\n\n  public once: IWeb3Wallet[\"once\"] = (name, listener) => {\n    return this.events.once(name, listener);\n  };\n\n  public off: IWeb3Wallet[\"off\"] = (name, listener) => {\n    return this.events.off(name, listener);\n  };\n\n  public removeListener: IWeb3Wallet[\"removeListener\"] = (name, listener) => {\n    return this.events.removeListener(name, listener);\n  };\n\n  // ---------- Engine ----------------------------------------------- //\n\n  public approveSession: IWeb3Wallet[\"approveSession\"] = async (params) => {\n    try {\n      return await this.engine.approveSession(params);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public rejectSession: IWeb3Wallet[\"rejectSession\"] = async (params) => {\n    try {\n      return await this.engine.rejectSession(params);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public updateSession: IWeb3Wallet[\"updateSession\"] = async (params) => {\n    try {\n      return await this.engine.updateSession(params);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public extendSession: IWeb3Wallet[\"extendSession\"] = async (params) => {\n    try {\n      return await this.engine.extendSession(params);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public respondSessionRequest: IWeb3Wallet[\"respondSessionRequest\"] = async (params) => {\n    try {\n      return await this.engine.respondSessionRequest(params);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public disconnectSession: IWeb3Wallet[\"disconnectSession\"] = async (params) => {\n    try {\n      return await this.engine.disconnectSession(params);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public emitSessionEvent: IWeb3Wallet[\"emitSessionEvent\"] = async (params) => {\n    try {\n      return await this.engine.emitSessionEvent(params);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public getActiveSessions: IWeb3Wallet[\"getActiveSessions\"] = () => {\n    try {\n      return this.engine.getActiveSessions();\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public getPendingSessionProposals: IWeb3Wallet[\"getPendingSessionProposals\"] = () => {\n    try {\n      return this.engine.getPendingSessionProposals();\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public getPendingSessionRequests: IWeb3Wallet[\"getPendingSessionRequests\"] = () => {\n    try {\n      return this.engine.getPendingSessionRequests();\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public respondAuthRequest: IWeb3Wallet[\"respondAuthRequest\"] = async (params, iss) => {\n    try {\n      return await this.engine.respondAuthRequest(params, iss);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public getPendingAuthRequests: IWeb3Wallet[\"getPendingAuthRequests\"] = () => {\n    try {\n      return this.engine.getPendingAuthRequests();\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  public formatMessage: IWeb3Wallet[\"formatMessage\"] = (params, iss) => {\n    try {\n      return this.engine.formatMessage(params, iss);\n    } catch (error: any) {\n      this.logger.error(error.message);\n      throw error;\n    }\n  };\n\n  // ---------- Private ----------------------------------------------- //\n\n  private async initialize() {\n    this.logger.trace(`Initialized`);\n    try {\n      await this.engine.init();\n      this.logger.info(`Web3Wallet Initialization Success`);\n    } catch (error: any) {\n      this.logger.info(`Web3Wallet Initialization Failure`);\n      this.logger.error(error.message);\n      throw error;\n    }\n  }\n}\n","import { Web3Wallet as Client } from \"./client\";\n\nexport * from \"./constants\";\nexport * from \"./types\";\n\nexport const Web3Wallet = Client;\nexport default Client;\n"],"names":["EventEmmiter","opts","client","IWeb3WalletEngine","SignClient","AuthClient","sessionProposal","topic","acknowledged","params","sessions","session","iss","request","event","Web3Wallet","IWeb3Wallet","EventEmitter","name","listener","error","CLIENT_CONTEXT","Engine","Client"],"mappings":"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"}