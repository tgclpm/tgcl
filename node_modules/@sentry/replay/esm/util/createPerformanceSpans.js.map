{"version":3,"file":"createPerformanceSpans.js","sources":["../../../../src/util/createPerformanceSpans.ts"],"sourcesContent":["import { EventType } from 'rrweb';\n\nimport type { AddEventResult, ReplayContainer, ReplayPerformanceEntry } from '../types';\nimport { addEvent } from './addEvent';\n\n/**\n * Create a \"span\" for each performance entry. The parent transaction is `this.replayEvent`.\n */\nexport function createPerformanceSpans(\n  replay: ReplayContainer,\n  entries: ReplayPerformanceEntry[],\n): Promise<AddEventResult | null>[] {\n  return entries.map(({ type, start, end, name, data }) =>\n    addEvent(replay, {\n      type: EventType.Custom,\n      timestamp: start,\n      data: {\n        tag: 'performanceSpan',\n        payload: {\n          op: type,\n          description: name,\n          startTimestamp: start,\n          endTimestamp: end,\n          data,\n        },\n      },\n    }),\n  );\n}\n"],"names":[],"mappings":";;;;AAKA;AACA;AACA;AACA,SAAA,sBAAA;AACA,EAAA,MAAA;AACA,EAAA,OAAA;AACA,EAAA;AACA,EAAA,OAAA,OAAA,CAAA,GAAA,CAAA,CAAA,EAAA,IAAA,EAAA,KAAA,EAAA,GAAA,EAAA,IAAA,EAAA,IAAA,EAAA;AACA,IAAA,QAAA,CAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,SAAA,CAAA,MAAA;AACA,MAAA,SAAA,EAAA,KAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,GAAA,EAAA,iBAAA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,EAAA,EAAA,IAAA;AACA,UAAA,WAAA,EAAA,IAAA;AACA,UAAA,cAAA,EAAA,KAAA;AACA,UAAA,YAAA,EAAA,GAAA;AACA,UAAA,IAAA;AACA,SAAA;AACA,OAAA;AACA,KAAA,CAAA;AACA,GAAA,CAAA;AACA;;;;"}